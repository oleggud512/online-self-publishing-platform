<template>
  <require from="../../../profiles/presentation/profile-item/profile-item"></require>
  <require from="../../../books/presentation/book-item/book-item"></require>
  <require from="../../../comments/presentation/comment-item/comment-item"></require>

  <article class="card">

    <!-- header -->
    <a class="card-header text-decoration-none d-flex flex-column flex-md-row align-items-center justify-content-between gap-2" 
      click.delegate="onHeaderClick(report)"
    >
      <span class="card-title h6 m-0">${report.reportType.displayName}</span>
      <span class="card-subtitle text-muted m-0">${report.createdAt.toLocaleString()}</span>
    </a>
    
    <!-- body -->
    <section class="card-body row row-cols-1 row-cols-md-2 g-2">
      <div class="col flex-column d-flex">
        <span>Sender</span>
        <hr class="hr">
        <profile-item profile.bind="report.author"></profile-item>
      </div>
      <div class="col flex-column d-flex">
        <span>Subject</span>
        <hr class="hr">
        <profile-item if.bind="isOnProfile" profile.bind="report.subject"></profile-item>
        <book-item if.bind="isOnBook" book.bind="report.subject"></book-item>
        <comment-item if.bind="isOnComment" comment.bind="report.subject"></comment-item>
      </div>
    </section>
    
    <!-- footer -->
    <section class="card-footer d-flex">
      <button class="btn btn-primary ms-auto" click.delegate="onReportAction()" disabled.bind="actionDisabled">${actionName}</button>
    </section>
    
  </article>
</template>